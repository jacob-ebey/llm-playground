<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="/src/styles.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, interactive-widget=resizes-content" />
    <title>llm-playground</title>
  </head>
  <body class="font-mono">
    <div class="flex max-h-dvh h-dvh w-screen overflow-hidden">
        <nav class="flex flex-col shrink-0 border-r relative overflow-y-auto">
            <div>
                <div class="p-4 border-b">
                    <button id="btn-new" type="button" class="block cursor-pointer p-1 text-lg md:text-2xl" title="New Document" aria-label="New Document">
                        🆕
                    </button>
                </div>
                <div class="p-4 border-b">
                    <button id="btn-send" type="button" class="block cursor-pointer p-1 text-lg md:text-2xl" title="Send" aria-label="Send">
                        🚀
                    </button>
                </div>
                <div class="p-4 border-b">
                    <button id="btn-save" type="button" class="block cursor-pointer p-1 text-lg md:text-2xl" title="Save" aria-label="Save">
                        💾
                    </button>
                </div>
                <div class="p-4 border-b">
                    <button id="btn-save-as" type="button" class="block cursor-pointer p-1 text-lg md:text-2xl" title="Save As" aria-label="Save As">
                        👯
                    </button>
                </div>
                <div class="p-4 border-b">
                    <button id="btn-settings" type="button" class="block cursor-pointer p-1 text-lg md:text-2xl" title="Settings" aria-label="Settings">
                        ⚙️
                    </button>
                </div>
            </div>
            <div class="flex-grow"></div>
            <div>
                <div class="p-4 border-t">
                    <button id="btn-history" type="button" class="block cursor-pointer p-1 text-lg md:text-2xl" title="Saved" aria-label="Saved">
                        🗄️
                    </button>
                </div>
            </div>
        </nav>

        <div class="flex-grow min-h-0 flex flex-col overflow-hidden">
            <header class="flex items-center border-b p-4 gap-4">
                <h1 class="whitespace-nowrap hidden sm:block">
                    llm-playground
                </h1>
                <div class="flex-grow"></div>
                <div class="flex items-center gap-4">
                    <select id="model-select" class="border px-3 py-1 md:px-4 md:py-2 w-50 sm:w-70"></select>
                    <button id="btn-refresh" type="button" class="cursor-pointer p-1 text-lg md:text-2xl" title="Refresh" aria-label="Refresh">
                        🔃
                    </button>
                </div>
            </header>

            <main id="content" class="block flex-grow min-h-0 overflow-auto p-4 outline-none whitespace-pre-wrap" contenteditable="true"></main>
        </div>
    </div>

    <dialog id="dialog-settings" class="max-w-lg w-full mx-auto max-h-3/4 overflow-auto top-1/8 border">
        <form id="settings-form" method="dialog" class="p-4 space-y-4">
            <h2 class="text-2xl border-b pb-4">⚙️ Settings</h2>

            <label class="block">
                <span class="block mb-1">Ollama Base URL</span>
                <input
                    type="url"
                    id="setting-ollama-base-url"
                    class="w-full border px-4 py-2"
                    placeholder="http://localhost:11434"
                />
            </label>

            <label class="block">
                <span class="block mb-1">OpenAI Base URL</span>
                <input
                    type="url"
                    id="setting-openai-base-url"
                    class="w-full border px-4 py-2"
                    placeholder="https://api.openai.com/v1"
                />
            </label>

            <label class="block">
                <span class="block mb-1">OpenAI Auth Token</span>
                <input
                    type="password"
                    id="setting-openai-auth-token"
                    class="w-full border px-4 py-2"
                    placeholder="*******************"
                    autocomplete="off"
                />
            </label>

            <div class="flex flex-row-reverse">
                <div class="flex flex-row-reverse gap-2">
                    <button type="submit" class="border px-4 py-2">💾 Save</button>
                    <button type="submit" class="border px-4 py-2" data-discard="true">❌ Discard</button>
                </div>
            </div>
        </form>
    </dialog>

    <dialog id="dialog-history" class="max-w-2xl w-full mx-auto max-h-3/4 overflow-auto top-1/8 border">
        <form id="history-form" method="dialog" class="p-4 space-y-4">
            <h2 class="text-2xl border-b pb-4">🗄️ Saved</h2>

            <ul id="history-list" class="space-y-4"></ul>

            <div class="flex flex-row-reverse">
                <div class="flex flex-row-reverse gap-2">
                    <button type="submit" class="border px-4 py-2">Close</button>
                </div>
            </div>
        </form>
    </dialog>

    <template id="history-item-template">
        <li class="pb-4 border-b">
            <div class="flex flex-row items-center justify-between">
                <a data-id></a>
                <form>
                    <button data-input name="id" type="submit" class="border px-4 py-2" title="Delete" aria-label="Delete">🗑️</button>
                </form>
            </div>
            <span data-preview class="block text-xs">
                lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
            </span>
        </li>
    </template>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
